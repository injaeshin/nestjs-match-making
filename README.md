## 사용자 매칭 (matching) 시스템

### 개요

- 매칭 시스템은 사용자 간의 매칭을 자동화하고 관리하는 시스템입니다.
- 이 시스템은 실시간 웹소켓을 통해 사용자와 상호작용하며, Redis를 사용하여 빠르고 효율적인 데이터 처리를 수행합니다.
- 주요 기능으로는 사용자 인증, 매칭, 재시도 메커니즘 등이 포함됩니다.

### 주요 기능

- 사용자 인증
    - 사용자는 Restful API 통해 로그인하며, 로그인 시 입력한 이름을 기준으로 신규 사용자 여부를 확인합니다.
    - 등록되지 않은 사용자는 자동으로 등록되며, 1에서 1000 사이의 무작위 점수가 부여됩니다.
    - 인증된 사용자에게는 세션을 유지할 수 있는 JWT 토큰이 발급되며, 이 토큰을 통해 웹소켓 연결 시 사용자가 인증된 상태임을 확인합니다. 이를 통해 인증된 사용자만 매칭 시스템을 이용할 수 있습니다.
- 매칭
    - 매칭 시스템은 실시간 웹소켓을 통해 사용자와 상호작용하며 매칭 요청을 처리합니다.
    - 매칭 요청 시, 매칭 대기열에 있는 다른 사용자를 탐색해 매칭을 시도합니다.
    - 대기열에 적합한 사용자가 없을 경우 일정 시간 동안 대기 후 다시 탐색하며, 대기 중인 사용자가 여러 명인 경우 무작위로 상대방을 선정합니다.
    - 매칭에 성공한 경우, 양측 사용자에게 매칭 결과를 즉시 반환합니다.
- 재시도 메커니즘
- 사용자가 매칭에 실패하면 매칭 서비스는 일정 시간 후 자동으로 재시도를 진행합니다.
- 최대 3회까지 재시도하며, 모든 시도가 실패하면 봇 매칭으로 전환됩니다.
- 봇 매칭은 데이터베이스에 저장된 사용자의 점수를 기준으로 적합한 봇을 검색해 매칭을 시도하며, 초기 점수 범위는 ±50으로 설정됩니다. 이후 범위를 늘려가며 최대 3회까지 시도해 매칭이 성사될 가능성을 높입니다.
- 매칭이 완료되면 결과를 사용자에게 실시간으로 전달하며, 매칭 실패 시에도 즉각적인 피드백을 제공합니다.
